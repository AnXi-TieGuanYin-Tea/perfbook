% toolsoftrade/toolsoftrade.tex

\chapter{Tools of the Trade}
\label{chp:Tools of the Trade}

\QuickQuizChapter{chp:Tools of the Trade}

This chapter provides a brief introduction to some basic tools of the
parallel-programming trade, focusing mainly on those available to
user applications running on operating systems similar to Linux.
Section~\ref{sec:toolsoftrade:Scripting Languages} begins with
scripting languages,
Section~\ref{sec:toolsoftrade:POSIX Multiprocessing}
describes the multi-process parallelism supported by the POSIX API,
Section~\ref{sec:toolsoftrade:POSIX Multiprocessing} touches on POSIX threads,
and finally,
Section~\ref{sec:toolsoftrade:Atomic Operations}
describes atomic operations.

Please note that this chapter provides but a brief introduction.
More detail is available from the references cited, and more information
on how best to use these tools will be provided in later chapters.

\section{Scripting Languages}
\label{sec:toolsoftrade:Scripting Languages}

The Linux shell scripting languages provide simple but effective ways
of managing parallelism.
For example, suppose that you had a program \url{compute_it}
that you needed to run twice with two different sets of arguments.
This can be accomplished as follows:

\vspace{5pt}
\begin{minipage}[t]{\columnwidth}
\begin{verbatim}
  1 compute_it 1 > compute_it.1.out &
  2 compute_it 2 > compute_it.2.out &
  3 wait
  4 cat > compute_it.1.out
  5 cat > compute_it.2.out
\end{verbatim}
\end{minipage}
\vspace{5pt}

Lines~1 and 2 launch two instances of this program, redirecting their
output to two separate files, with the \url{&} character directing the
shell to run the two instances of the program in the background.
Line~3 waits for both instances to complete, and lines~4 and 5
display their output.
% @@@ Maui scheduler, load balancing, BOINC, and so on.

\QuickQuiz{}
	But these silly shell script isn't a \emph{real} parallel
	program!!!
	Why bother with such trivia???
\QuickQuizAnswer{
	Because you should \emph{never} forget the simple stuff!!!

	Please keep in mind that the title of this book is
	``Is Parallel Programming Hard, And, If So, What Can You Do About It?''.
	One of the most effective things you can do about it is to
	avoid forgetting the simple stuff!
	After all, if you choose to do parallel programming the hard
	way, you have no one but yourself to blame for it being hard.
} \QuickQuizEnd

For another example, the \url{make} software-build scripting language
provides a \url{-j} option that specifies how much parallelism should be
introduced into the build process.
For example, typing \url{make}~\url{-j4} when building a Linux kernel
specifies that up to four parallel compiles be carried out concurrently.

It is hoped that these simple examples convince you that parallel
programming need not always be complex or difficult.

\section{POSIX Multiprocessing}
\label{sec:toolsoftrade:POSIX Multiprocessing}

This section scratches the surface of the
POSIX pthreads~\cite{OpenGroup1997pthreads}
environment, as this environment is readily available and widely
implemented.
Section~\ref{sec:toolsoftrade:POSIX Thread Creation and Destruction}
touches on thread creation and distruction,
Section~\ref{sec:toolsoftrade:POSIX Locking} gives a brief overview
of POSIX locking, and, finally,
Section~\ref{sec:toolsoftrade:Linux-Kernel Equivalents to POSIX Operations}
presents the analogous operations within the Linux kernel.

\subsection{POSIX Thread Creation and Destruction}
\label{sec:toolsoftrade:POSIX Thread Creation and Destruction}

\url{pthread_create()}

\url{pthread_exit()}

\url{pthread_join()}

\subsection{POSIX Locking}
\label{sec:toolsoftrade:POSIX Locking}

\subsection{Linux-Kernel Equivalents to POSIX Operations}
\label{sec:toolsoftrade:Linux-Kernel Equivalents to POSIX Operations}

\section{Atomic Operations}
\label{sec:toolsoftrade:Atomic Operations}
